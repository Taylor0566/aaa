{"version":3,"file":"detail.js","sources":["pages/comtent/detail/detail.uvue","../../HBuilder/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY29tdGVudC9kZXRhaWwvZGV0YWlsLnV2dWU"],"sourcesContent":["<template>\n  <view class=\"detail-container\">\n    <!-- Â∏ñÂ≠êÂÜÖÂÆπ -->\n    <scroll-view scroll-y class=\"content-scroll\">\n      <!-- Â§¥ÈÉ®Ôºö‰ΩúËÄÖ‰ø°ÊÅØ -->\n      <view class=\"post-header\">\n        <image :src=\"post.avatarUrl || defaultAvatar\" class=\"avatar\" mode=\"aspectFill\" />\n        <view class=\"author-info\">\n          <text class=\"author-name\">{{ post.author || 'ÂåøÂêçÁî®Êà∑' }}</text>\n          <text class=\"post-time\">{{ formatTime(post.createdAt) }}</text>\n        </view>\n        <view v-if=\"post.isMine\" class=\"post-actions\">\n          <button size=\"mini\" @click=\"editPost\">ÁºñËæë</button>\n          <button size=\"mini\" @click=\"confirmDeletePost\">Âà†Èô§</button>\n        </view>\n      </view>\n\n      <!-- Ê†áÈ¢ò -->\n      <text class=\"post-title\">{{ post.title }}</text>\n\n      <!-- ÊèèËø∞ -->\n      <view v-if=\"post.description\" class=\"post-desc\">{{ post.description }}</view>\n\n      <!-- Â™í‰Ωì -->\n      <view v-if=\"post.type === 'image'\" class=\"media-box\">\n        <image :src=\"post.mediaUrl\" mode=\"widthFix\" class=\"media-img\" @click=\"previewImage\" />\n      </view>\n      <view v-else-if=\"post.type === 'video'\" class=\"media-box\">\n        <video :src=\"post.mediaUrl\" controls class=\"media-video\" />\n      </view>\n\n      <!-- ÁªüËÆ°‰ø°ÊÅØ -->\n      <view class=\"stats-bar\">\n        <text>üëÅÔ∏è {{ post.views }} ÊµèËßà</text>\n        <text>üëç {{ post.likes }} ÁÇπËµû</text>\n        <text>‚≠ê Âπ≥ÂùáÂàÜÔºö{{ avgRating.toFixed(1) }} ({{ totalRatings }}‰∫∫)</text>\n      </view>\n\n      <!-- ÂàÜÂâ≤Á∫ø -->\n      <view class=\"divider\"></view>\n\n      <!-- ËØÑËÆ∫Âå∫Ê†áÈ¢ò -->\n      <view class=\"comments-title\">üí¨ ÂÖ± {{ comments.length }} Êù°ËØÑËÆ∫</view>\n\n      <!-- ËØÑËÆ∫ÂàóË°® -->\n      <view v-for=\"comment in comments\" :key=\"comment._id\" class=\"comment-item\">\n        <image :src=\"comment.avatarUrl || defaultAvatar\" class=\"comment-avatar\" mode=\"aspectFill\" />\n        <view class=\"comment-body\">\n          <view class=\"comment-header\">\n            <text class=\"comment-author\">{{ comment.authorName || 'ÂåøÂêç' }}</text>\n            <text class=\"comment-time\">{{ formatTime(comment.createdAt) }}</text>\n          </view>\n          <text class=\"comment-content\">{{ comment.commentContent }}</text>\n          <view class=\"comment-footer\">\n            <text>‚≠ê {{ comment.rating }}</text>\n            <button \n              v-if=\"comment.isMyComment\" \n              size=\"mini\" \n              @click=\"confirmDeleteComment(comment)\"\n            >\n              Âà†Èô§\n            </button>\n          </view>\n        </view>\n      </view>\n\n      <!-- Âä†ËΩΩÊõ¥Â§ö / Ê≤°ÊúâËØÑËÆ∫ -->\n      <view v-if=\"comments.length === 0\" class=\"no-comments\">ÊöÇÊó†ËØÑËÆ∫ÔºåÂø´Êù•Êä¢Ê≤ôÂèëÔºÅ</view>\n    </scroll-view>\n\n    <!-- ÂèëË°®ËØÑËÆ∫Âå∫ÂüüÔºàÂõ∫ÂÆöÂú®Â∫ïÈÉ®Ôºâ -->\n    <view class=\"comment-input-bar\">\n      <input\n        v-model=\"newComment\"\n        placeholder=\"ËØ¥ÁÇπ‰ªÄ‰πàÂêß...\"\n        class=\"comment-input\"\n        @confirm=\"submitComment\"\n      />\n      <picker @change=\"onRatingChange\" :value=\"rating - 1\" :range=\"[1,2,3,4,5]\">\n        <view class=\"rating-picker\">‚≠ê{{ rating }}</view>\n      </picker>\n      <button \n        @click=\"submitComment\" \n        :disabled=\"!newComment.trim()\" \n        class=\"send-btn\"\n      >\n        ÂèëÈÄÅ\n      </button>\n    </view>\n\n    <!-- Âà†Èô§Á°ÆËÆ§ÂºπÁ™ó -->\n    <view v-if=\"showDeleteConfirm\" class=\"modal-overlay\">\n      <view class=\"delete-modal\">\n        <text>Á°ÆÂÆöË¶ÅÂà†Èô§ÂêóÔºü</text>\n        <view class=\"modal-buttons\">\n          <button @click=\"cancelDelete\">ÂèñÊ∂à</button>\n          <button @click=\"doDelete\" class=\"confirm-btn\">Á°ÆÂÆö</button>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nimport { ref, onMounted, computed } from 'vue'\nimport { onLoad } from '@dcloudio/uni-app'\n\n// ===== Props & State =====\nconst contentId = ref('')\nconst post = ref({})\nconst comments = ref([])\nconst newComment = ref('')\nconst rating = ref(5)\nconst avgRating = ref(0)\nconst totalRatings = ref(0)\n\nconst showDeleteConfirm = ref(false)\nconst deleteTarget = ref(null) // 'post' or comment object\n\nconst defaultAvatar = 'https://vkceyugu.cdn.bspapp.com/VKCEYUGU-dc-site/0a8dfc00-2b0d-11eb-b6f6-39e5ff889326.png'\n\n// ===== Lifecycle =====\nonLoad((options) => {\n  contentId.value = options.id\n  if (contentId.value) {\n    loadPostDetail()\n    loadComments()\n    loadRatingStats()\n  }\n})\n\n// ===== API Methods =====\nasync function loadPostDetail() {\n  try {\n    const res = await uniCloud.callFunction({\n      name: 'post-api',\n      data: {\n        action: 'get-post',\n        postId: contentId.value\n      }\n    })\n    if (res.result?.success) {\n      post.value = res.result.data\n\n      // Â¶ÇÊûú media ÊòØÁßÅÊúâÊñá‰ª∂ÔºåÈúÄËΩ¨‰∏¥Êó∂ÈìæÊé•ÔºàÂÅáËÆæÂêéÁ´ØÊ≤°ÂÅöÔºâ\n      if (post.value.fileID && !post.value.mediaUrl) {\n        const urlRes = await uniCloud.getTempFileURL({ fileList: [post.value.fileID] })\n        post.value.mediaUrl = urlRes.fileList[0]?.tempFileURL || ''\n      }\n    } else {\n      throw new Error(res.result?.message || 'Âä†ËΩΩÂ§±Ë¥•')\n    }\n  } catch (err) {\n    uni.__f__('error','at pages/comtent/detail/detail.uvue:154','Âä†ËΩΩÂ∏ñÂ≠êÂ§±Ë¥•:', err)\n    uni.showToast({ title: 'Âä†ËΩΩÂ§±Ë¥•', icon: 'none' })\n  }\n}\n\nasync function loadComments(page = 1) {\n  try {\n    const res = await uniCloud.callFunction({\n      name: 'comment-api',\n      data: {\n        action: 'list-comments',\n        contentId: contentId.value,\n        page,\n        pageSize: 20\n      }\n    })\n    if (res.result?.success) {\n      comments.value = res.result.data.list || []\n    }\n  } catch (err) {\n    uni.__f__('error','at pages/comtent/detail/detail.uvue:174','Âä†ËΩΩËØÑËÆ∫Â§±Ë¥•:', err)\n    uni.showToast({ title: 'ËØÑËÆ∫Âä†ËΩΩÂ§±Ë¥•', icon: 'none' })\n  }\n}\n\nasync function loadRatingStats() {\n  try {\n    const res = await uniCloud.callFunction({\n      name: 'comment-api',\n      data: {\n        action: 'get-content-rating',\n        contentId: contentId.value\n      }\n    })\n    if (res.result?.success) {\n      avgRating.value = res.result.data.avgRating || 0\n      totalRatings.value = res.result.data.total || 0\n    }\n  } catch (err) {\n    uni.__f__('warn','at pages/comtent/detail/detail.uvue:193','Âä†ËΩΩËØÑÂàÜÂ§±Ë¥•:', err)\n  }\n}\n\nasync function submitComment() {\n  if (!newComment.value.trim()) return\n\n  try {\n    const res = await uniCloud.callFunction({\n      name: 'comment-api',\n      data: {\n        action: 'add-comment',\n        contentId: contentId.value,\n        commentContent: newComment.value.trim(),\n        rating: rating.value\n      }\n    })\n    if (res.result?.success) {\n      uni.showToast({ title: 'ËØÑËÆ∫ÊàêÂäü', icon: 'success' })\n      newComment.value = ''\n      rating.value = 5\n      loadComments()     // Âà∑Êñ∞ËØÑËÆ∫\n      loadRatingStats()  // Âà∑Êñ∞ËØÑÂàÜ\n    } else {\n      throw new Error(res.result?.message || 'ËØÑËÆ∫Â§±Ë¥•')\n    }\n  } catch (err) {\n    uni.showToast({ title: err.message || 'ËØÑËÆ∫Â§±Ë¥•', icon: 'none' })\n  }\n}\n\nasync function deleteComment(commentId) {\n  try {\n    const res = await uniCloud.callFunction({\n      name: 'comment-api',\n      data: {\n        action: 'delete-comment',\n        commentId\n      }\n    })\n    if (res.result?.success) {\n      loadComments()\n      loadRatingStats()\n    } else {\n      throw new Error(res.result?.message || 'Âà†Èô§Â§±Ë¥•')\n    }\n  } catch (err) {\n    uni.showToast({ title: err.message || 'Âà†Èô§Â§±Ë¥•', icon: 'none' })\n  }\n}\n\n// ===== UI Handlers =====\nfunction onRatingChange(e) {\n  rating.value = parseInt(e.detail.value) + 1\n}\n\nfunction confirmDeleteComment(comment) {\n  deleteTarget.value = comment\n  showDeleteConfirm.value = true\n}\n\nfunction confirmDeletePost() {\n  deleteTarget.value = 'post'\n  showDeleteConfirm.value = true\n}\n\nfunction cancelDelete() {\n  showDeleteConfirm.value = false\n  deleteTarget.value = null\n}\n\nasync function doDelete() {\n  if (deleteTarget.value === 'post') {\n    // TODO: Ë∞ÉÁî®Âà†Èô§Â∏ñÂ≠êÁöÑ API\n    uni.showToast({ title: 'Â∏ñÂ≠êÂà†Èô§ÊàêÂäü', icon: 'success' })\n    setTimeout(() => uni.navigateBack(), 1000)\n  } else if (deleteTarget.value?._id) {\n    await deleteComment(deleteTarget.value._id)\n  }\n  cancelDelete()\n}\n\nfunction editPost() {\n  uni.navigateTo({ url: `/pages/content/edit/edit?id=${contentId.value}` })\n}\n\nfunction previewImage() {\n  if (post.value.mediaUrl) {\n    uni.previewImage({ urls: [post.value.mediaUrl] })\n  }\n}\n\n// Êó∂Èó¥Ê†ºÂºèÂåñÔºàÁÆÄÂçïÁâàÔºâ\nfunction formatTime(dateStr) {\n  if (!dateStr) return ''\n  const date = new Date(dateStr)\n  return date.toLocaleString('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  }).replace(/\\//g, '-')\n}\n</script>\n\n<style scoped>\n.detail-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: #f5f5f5;\n}\n\n.content-scroll {\n  flex: 1;\n  padding: 20rpx;\n}\n\n.post-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30rpx;\n}\n\n.avatar {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 50%;\n  margin-right: 20rpx;\n}\n\n.author-info {\n  flex: 1;\n}\n\n.author-name {\n  font-weight: bold;\n  font-size: 32rpx;\n  color: #333;\n}\n\n.post-time {\n  font-size: 24rpx;\n  color: #999;\n  margin-top: 8rpx;\n}\n\n.post-actions button {\n  margin-left: 10rpx;\n  padding: 8rpx 16rpx;\n  font-size: 24rpx;\n}\n\n.post-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 20rpx;\n}\n\n.post-desc {\n  font-size: 28rpx;\n  line-height: 1.6;\n  color: #555;\n  margin-bottom: 30rpx;\n  padding: 20rpx;\n  background: white;\n  border-radius: 12rpx;\n}\n\n.media-box {\n  margin-bottom: 30rpx;\n  border-radius: 12rpx;\n  overflow: hidden;\n  background: #000;\n}\n\n.media-img {\n  width: 100%;\n  display: block;\n}\n\n.media-video {\n  width: 100%;\n  height: 400rpx;\n}\n\n.stats-bar {\n  display: flex;\n  justify-content: space-between;\n  font-size: 26rpx;\n  color: #666;\n  margin-bottom: 30rpx;\n  padding: 0 10rpx;\n}\n\n.divider {\n  height: 2rpx;\n  background-color: #eee;\n  margin: 30rpx 0;\n}\n\n.comments-title {\n  font-size: 30rpx;\n  font-weight: bold;\n  margin-bottom: 20rpx;\n  color: #333;\n}\n\n.comment-item {\n  display: flex;\n  margin-bottom: 30rpx;\n  padding: 20rpx;\n  background: white;\n  border-radius: 12rpx;\n}\n\n.comment-avatar {\n  width: 60rpx;\n  height: 60rpx;\n  border-radius: 50%;\n  margin-right: 20rpx;\n}\n\n.comment-body {\n  flex: 1;\n}\n\n.comment-header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 10rpx;\n}\n\n.comment-author {\n  font-weight: bold;\n  font-size: 28rpx;\n}\n\n.comment-time {\n  font-size: 22rpx;\n  color: #999;\n}\n\n.comment-content {\n  font-size: 28rpx;\n  line-height: 1.5;\n  color: #555;\n  margin-bottom: 10rpx;\n}\n\n.comment-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 24rpx;\n  color: #ff9500;\n}\n\n.no-comments {\n  text-align: center;\n  color: #999;\n  padding: 40rpx 0;\n}\n\n/* Â∫ïÈÉ®ËæìÂÖ•Ê†è */\n.comment-input-bar {\n  display: flex;\n  align-items: center;\n  padding: 10rpx 20rpx;\n  background: white;\n  border-top: 1rpx solid #eee;\n}\n\n.comment-input {\n  flex: 1;\n  padding: 10rpx 20rpx;\n  background: #f5f5f5;\n  border-radius: 50rpx;\n  font-size: 28rpx;\n}\n\n.rating-picker {\n  margin: 0 20rpx;\n  color: #ff9500;\n  font-size: 28rpx;\n}\n\n.send-btn {\n  padding: 10rpx 20rpx;\n  background: #007aff;\n  color: white;\n  border-radius: 50rpx;\n  font-size: 28rpx;\n}\n\n/* Âà†Èô§ÂºπÁ™ó */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 999;\n}\n\n.delete-modal {\n  background: white;\n  padding: 40rpx;\n  border-radius: 20rpx;\n  text-align: center;\n  font-size: 32rpx;\n}\n\n.modal-buttons {\n  display: flex;\n  margin-top: 30rpx;\n}\n\n.modal-buttons button {\n  flex: 1;\n  margin: 0 10rpx;\n  padding: 15rpx 0;\n  border-radius: 50rpx;\n  font-size: 28rpx;\n}\n\n.confirm-btn {\n  background: #ff3b30;\n  color: white;\n}\n</style>","import MiniProgramPage from 'D:/HBuilder-code/-/pages/comtent/detail/detail.uvue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uniCloud","uni"],"mappings":"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"}